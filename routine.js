// گرفتن پروفایل از localStorage
const data = localStorage.getItem("skinProfile");

if (!data) {
    alert("پروفایل پوستی پیدا نشد");
    window.location.href = "profile.html";
}

const profile = JSON.parse(data);
const skinType = profile.skinType;
const sensitive = profile.sensitive;

let morning = [];
let night = [];

// روتین‌ها بر اساس نوع پوست و حساسیت
switch (skinType) {
    case "dry":
        if(sensitive){
            morning = [
                "شستشو با آب خالی",
                "مرطوب‌کننده غنی",
                "ضد آفتاب مینرال مرطوب کننده SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "شوینده کرمی بدون کف",
                "اسنس غنی و رطوبت رسان",
                "مرطوب کننده غنی با بافت غلیظ",
                "بالم لب رطوبت رسان",
                "کرم ترمیم‌کننده"
            ];
        } else {
            morning = [
                "شستشو با آب خالی",
                "اسنس غنی و رطوبت رسان",
                "مرطوب‌کننده غنی با بافت غلیظ",
                "ضد آفتاب مرطوب‌کننده SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "روغن پاک کننده ملایم",
                "شوینده کرمی بدون کف",
                "اسنس غنی و رطوبت رسان",
                "سرم غنی درمانی",
                "مرطوب‌کننده غنی با بافت غلیظ",
                "بالم لب رطوبت رسان",
                "کرم ترمیم کننده (اختیاری)",
                "روغن صورت (اختیاری)"
            ];
        }
        break;

    case "normal":
        if(sensitive){
            morning = [
                "شستشو با آب خالی",
                "مرطوب‌کننده سبک تا متوسط",
                "ضد آفتاب مینرال بافت سبک و مرطوب کننده SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "شوینده کرمی بدون کف",
                "اسنس آبرسان",
                "مرطوب‌کننده غنی",
                "بالم لب رطوبت رسان",
                "کرم ترمیم کننده"
            ];
        } else {
            morning = [
                "شستشو با آب خالی",
                "سرم آنتی‌اکسیدان (مثل ویتامین سی یا نیاسینامید ملایم)",
                "مرطوب‌کننده سبک تا متوسط",
                "ضد آفتاب مینرال بافت سبک و مرطوب کننده SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "روغن پاک کننده ملایم",
                "شوینده کرمی بدون کف",
                "اسنس آبرسان",
                "سرم درمانی",
                "مرطوب‌کننده غنی",
                "بالم لب رطوبت رسان",
                "کرم ترمیم کننده (اختیاری)"
            ];
        }
        break;

    case "combination":
        if(sensitive){
            morning = [
                "شستشو با آب خالی",
                "مرطوب‌کننده سبک تا متوسط",
                "ضد آفتاب مینرال بافت سبک و غیرکمدوژنیک SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "شوینده کرمی بدون کف",
                "اسنس آبرسان",
                "مرطوب‌کننده سبک تا متوسط",
                "بالم لب رطوبت رسان",
                "کرم ژلی ترمیم‌کننده"
            ];
        } else {
            morning = [
                "شستشو با آب خالی (در صورت نیاز با شوینده خیلی ملایم و کرمی)",
                "تونر متعادل‌کننده PH",
                "سرم آنتی‌اکسیدان (مثل ویتامین سی یا نیاسینامید ملایم)",
                "مرطوب‌کننده سبک تا متوسط",
                "ضد آفتاب بافت سبک و غیرکمدوژنیک SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "روغن پاک‌کننده ملایم",
                "شوینده کرمی یا فومی ملایم",
                "اسنس آبرسان سبک",
                "سرم درمانی سبک",
                "مرطوب‌کننده سبک تا متوسط",
                "بالم لب رطوبت رسان",
                "کرم ژلی ترمیم‌کننده (اختیاری)"
            ];
        }
        break;

    case "oily":
        if(sensitive){
            morning = [
                "شستشو با شوینده بسیار ملایم ژلی",
                "مرطوب‌کننده سبک و تسکین‌دهنده",
                "ضد آفتاب مینرال فاقد چربی و غیرکمدوژنیک SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "شوینده ژلی ملایم",
                "سرم سبک تسکین‌دهنده",
                "مرطوب‌کننده ژلی سبک",
                "بالم لب رطوبت رسان",
                "کرم ژلی ترمیم‌کننده (اختیاری)"
            ];
        } else {
            morning = [
                "شوینده ژلی یا کرمی ملایم",
                "تونر متعادل‌کننده PH (کنترل‌کننده چربی، بدون الکل)",
                "سرم آنتی‌اکسیدان (مثل ویتامین سی یا نیاسینامید)",
                "مرطوب‌کننده سبک ژلی یا فاقد چربی",
                "ضد آفتاب مینرال فاقد چربی و غیرکمدوژنیک SPF 50+",
                "بالم لب رطوبت رسان SPF 25"
            ];
            night = [
                "روغن پاک‌کننده سبک و غیرکمدوژنیک",
                "شوینده ژلی یا فومی ملایم",
                "تونر متعادل‌کننده یا تسکین‌دهنده",
                "سرم درمانی سبک (کنترل چربی یا منافذ)",
                "مرطوب‌کننده سبک ژلی",
                "بالم لب رطوبت رسان"
            ];
        }
        break;
}

// ⚡ نمایش در HTML با backtick
function fixLTR(text) {
    return text.replace(/(SPF\s*\d+\+)/g, '<span class="ltr-fix">$1</span>');
}

document.getElementById("morningRoutine").innerHTML =
  morning.map(item => `<li>${fixLTR(item)}</li>`).join("");

document.getElementById("nightRoutine").innerHTML =
  night.map(item => `<li>${fixLTR(item)}</li>`).join("");